gcloud is the command-line tool for Google Cloud. It comes pre-installed on Cloud Shell and supports tab-completion.

You can list the active account name with this command:

gcloud auth list

You can list the project ID with this command:

gcloud config list project

Create a function

To create a cloud function:
In the Cloud Shell command line, create a directory for the function code.

mkdir gcf_hello_world

Move to the gcf_hello_world directory.

cd gcf_hello_world

Create and open index.js to edit.

nano index.js

Copy the following into the index.js file

/**
* Background Cloud Function to be triggered by Pub/Sub.
* This function is exported by index.js, and executed when
* the trigger topic receives a message.
*
* @param {object} data The event payload.
* @param {object} context The event metadata.
*/

Exit nano (Ctrl+x) and save (Y) the file.


exports.helloWorld = (data, context) => {
const pubSubMessage = data;
const name = pubSubMessage.data
    ? Buffer.from(pubSubMessage.data, 'base64').toString() : "Hello World";
console.log(`My Cloud Function: ${name}`);
};
